<meta charset="UTF-8">
<title>Note</title>
<head>
 <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-49JMVLZZTX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-49JMVLZZTX');
</script>
</head>
<meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.0/masonry.pkgd.min.js"></script>
<script src="https://erichsia7.github.io/ripple.js/ripple.min.js"></script>
<link href="https://erichsia7.github.io/note/note_icon.png" sizes="512x512" rel="apple-touch-icon-precomposed" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<link type="image/x-icon" href="https://erichsia7.github.io/note/note_icon.ico" rel="icon" />
<link type="image/x-icon" href="https://erichsia7.github.io/note/note_icon.ico" rel="bookmark" />
<link type="image/x-icon" href="https://erichsia7.github.io/note/note_icon.ico" rel="shortcut icon" />
<link rel="manifest" href="manifest.json?l">
<meta name="theme-color" content="#fff">

<style>
  * {
    -webkit-appearance:none;
outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0);
   -webkit-user-select: none;
  }
  *::-webkit-scrollbar {
  display: none;
}
body {
  background:#fff;
}
.note_c {
  width:100%;
  height:80px;
  background:var(--color-light);
  border: 1px solid var(--color-grey);
  border-radius:15px;
  margin-top:10px;
  position:relative;
  font-family: 'Noto Sans TC', sans-serif;
  box-sizing: border-box;
  opacity:0.3;
}
.note_c[ld="1"] {
 opacity:1;
 }
.note_c h2 {
  position:absolute;
  top:5px;
  left:8px;
  margin:0px;
  padding:0px;
  color:var(--color-ftf);
  width:calc(100% - 16px);
  height:35px;
  line-height:35px;
  font-size:24px;
}
.note_c_t {
  position:absolute;
  top:40px;
  left:8px;
  width:calc(100% - 16px);
  height:35px;
  line-height:15px;
  font-size:15px;
  color:var(--color-grey)
}
.addnote {
  position:fixed;
  bottom:20px;
  right:20px;
  width:60px;
  height:60px;
  background:#fff;
  display: flex;
justify-content: center;
align-items: center;
  color:#000;
  font-size:40px;
  border-radius:15px;
 box-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.09);
}
 #emptysvg {
  width:350px;
  height:350px;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
 }
 .allnote {
  position:relative;
  margin-top:60px;
 }
 .note_ti {
background: #fff;
  position:fixed;
  top:0px;
  left:0px;
  width:100%;
  height:55px;
  box-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.09);
  -webkit-user-select: none;
 }
 .noti {
  height:55px;
  display: flex;
  justify-content: center;
  align-items: center;
  width:80px;
  font-size:20px;
  font-family: 'Noto Sans TC', sans-serif;
  font-weight:700;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
 }
 :root {
  --svg-fy-c:#000;
  --search-border-c:#e3e3e3;
 }
 .search {
  position:absolute;
  top:0px;
  left:0px;
  width:55px;
  height:55px;
  display: flex;
  justify-content: center;
  align-items: center;
 }
 .settings {
  position:absolute;
  top:0px;
  right:0px;
  width:55px;
  height:55px;
  display: flex;
  justify-content: center;
  align-items: center;
 }
 
  .note_ti_s {
background: #fff;
  position:fixed;
  top:0px;
  left:0px;
  width:100%;
  height:55px;
  box-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.09);
  -webkit-user-select: none;
   display:none;
 }
#note_search {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:clamp(280px,90vw,400px);
  height:45px;
  padding:0px 10px;
  border-radius:15px;
  box-sizing: border-box;
  border:1px solid #e3e3e3;
  -webkit-user-select: text;
  font-size:18px;
 font-family: 'Noto Sans TC', sans-serif;
  font-weight:400;
 background:rgba(0, 0, 0, 0);
 color:#000;
}
#note_search[g="1"] {
  border-radius:15px 15px 0px 0px
}
.search_result {
  width:clamp(280px,90vw,400px);
  height:calc(var(--search-result-co) * 45px);
  position:absolute;
  top:calc(45px + ((100% - 45px) / 2) - 1px);
  background:rgba(255,255,255,1);
  left:calc((100% - clamp(280px,90vw,400px)) / 2);
  border-radius:0px 0px 15px 15px;
  overflow:scroll;
  max-height:calc(5 * 45px + 15px);
  border:1px solid #e3e3e3;
  box-sizing: border-box;
}
 .search_result[g="0"] {
  display:none;
 }
.search_result li {
  width:calc(100% - 10px);
  height:45px;
  display: flex;
  align-items: center;
  list-style:none;
  padding-left:10px;
  border-bottom:1px solid #e3e3e3;
  background:rgba(0, 0, 0, 0)
}
.search_result a {
 text-decoration:none;
 color:#000;
 font-family: 'Noto Sans TC', sans-serif;
  font-weight:400;
 font-size:18px
 }
.backb {
 position:absolute;
 top:0px;
 left:0px;
 width:55px;
 height:55px;
 display: flex;
  justify-content: center;
  align-items: center;
 }
 h3#pinnedtit,h3#unpinnedtit {
  width:calc(100% - 10px);
  margin:0px;
  padding:0px;
  margin-top:5px;
  margin-bottom:5px;
  padding-left:10px;
  font-family: 'Noto Sans TC', sans-serif;
  font-weight:700;
 }

 
 
  /*prompt*/
    .promptcenter {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        color: #000;
        font-size: 15px;
        font-family: "Noto Sans TC", sans-serif;
        font-weight: 700;
    }
    .promptcenter * {
        color: #000;
        font-size: 15px;
        font-family: "Noto Sans TC", sans-serif;
        font-weight: 700;
    }
        .prompt {
            width: clamp(280px,80vw,400px);
            height: 60px;
            background: #fff;
            border-radius: 15px;
            position: fixed;
            left: 50%;
            bottom: -80px;
            opacity: 0;
            transform: translateX(-50%);
            box-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.09);
        }
/*promptend*/
 
@media (prefers-color-scheme: dark) {
  body {
    background:#1a1a1a;
  }
  .note_c {
  background:var(--color-dark);
  border: 1px solid var(--color-grey);
}
.note_c h2 {
  color:#fff;
  }
.note_c_t {
  color:#e3e3e3
}
.note_ti {
 color:#fff;
 background: #1a1a1a;
 }
 .note_ti_s {
 background: #1a1a1a;
 }
 :root {
  --svg-fy-c:#fff;
  --search-border-c:#1f1f1f;
 }
 #note_search {
  color:#fff;
  border:1px solid #1f1f1f;
 }
 .search_result {
  background: rgba(26, 26, 26, 1);
  border:1px solid #1f1f1f;
 }
 .search_result li {
  border-bottom:1px solid #1f1f1f;
 }
 .search_result li,.search_result a {
  color:#fff;
 }
 .addnote {
  background:#1f1f1f;
  color:#fff;
 box-shadow: 0 0 8px 1px rgba(0, 0, 0, 0.09);
}
 
     .promptcenter {
        color: #fff;
    }
    .promptcenter * {
        color: #fff;
    }
        .prompt {
         background:#1f1f1f;
 }
  h3#pinnedtit,h3#unpinnedtit {
   color:#fff;
 }
}
 
  @media only screen and (max-width: 600px) {
 #note_search {
  width:calc(100% - 55px);
  height:100%;
  top:0px;
  left:55px;
  border:none;
  transform:translate(0px,0px);
  padding:0px;
  }
  .search_result {
   width:100%;
   border:none;
   border-radius:0px;
   height:calc(100vh - 55px);
   top:55px;
   left:0px;
   max-height:100vh;
   border-top:1px solid var(--search-border-c);
  }
   .search_result li {
    padding-left:55px;
    width:calc(100% - 55px)
   }
    .search_result[g="0"] {
  display:block;
 }
   .note_ti_s {
    -webkit-backdrop-filter: blur(30px);
backdrop-filter: blur(30px);
   }
   /*
    .allnote[f="1"] {
  position:fixed;
  top:0px;
  left:0px;
 }
   */
 }
</style>
<style id="emptysvgcsscolor"></style>
<body>
 
<div class="allnote" f="0">
 <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" id="emptysvg">
    <g id="freepik--Box--inject-6">
        <path d="M126.11,338.69H254.55a0,0,0,0,1,0,0V405a6.47,6.47,0,0,1-6.47,6.47H132.58a6.47,6.47,0,0,1-6.47-6.47V338.69A0,0,0,0,1,126.11,338.69Z" style="fill: var(--svg-empty);"></path>
        <path d="M126.11,338.69H217l-11.18-14.31c-1.23-1.57-4.27-2.84-6.8-2.84H117.28c-2.52,0-3.58,1.27-2.35,2.84Z" style="fill: var(--svg-empty);"></path>
        <path d="M126.11,338.69H217l-11.18-14.31c-1.23-1.57-4.27-2.84-6.8-2.84H117.28c-2.52,0-3.58,1.27-2.35,2.84Z" style="opacity: 0.2;"></path>
        <path d="M254.55,338.69H163.67l11.18-9.33c1.23-1,4.27-1.85,6.8-1.85h81.73c2.53,0,3.58.83,2.35,1.85Z" style="fill: var(--svg-empty);"></path>
        <path d="M163.67,338.69h90.88a0,0,0,0,1,0,0V405a6.47,6.47,0,0,1-6.47,6.47H170.14a6.47,6.47,0,0,1-6.47-6.47V338.69A0,0,0,0,1,163.67,338.69Z" style="fill: #fff; opacity: 0.2;"></path>
        <polygon points="137.39 338.69 137.39 384.17 140.53 381.69 142.74 384.17 144.66 381.41 146.63 384.17 149.37 382.1 152.39 384.17 152.39 338.69 137.39 338.69" style="fill: #fff; opacity: 0.5;"></polygon>
    </g>
    <g id="freepik--Character--inject-6">
        <line x1="157.72" y1="239.48" x2="141.57" y2="225.92" style="fill: none; stroke: var(--svg-empty); stroke-miterlimit: 10;"></line>
        <line x1="166.09" y1="246.51" x2="161.17" y2="242.37" style="fill: none; stroke: var(--svg-empty); stroke-miterlimit: 10;"></line>
        <path d="M214.47,274.89l53.28-66.59-70.94-59.56-47,53.93-7,13.49a3.76,3.76,0,0,0,.47,5.49l64,53.74A5.3,5.3,0,0,0,214.47,274.89Z" style="fill: var(--svg-empty);"></path>
        <polygon points="177.93 225.78 170.26 238.13 173.35 238.8 174.4 241.66 176.45 241.78 177.4 244.23 179.91 244.96 181.84 248.03 189.51 235.68 177.93 225.78" style="fill: #fff; opacity: 0.5;"></polygon>
        <polygon points="265.43 206.35 217.65 259.65 149.78 202.67 196.81 148.74 265.43 206.35" style="opacity: 0.1;"></polygon>
        <polygon points="265.43 206.35 217.65 259.65 237.43 261.11 284.47 207.18 265.43 206.35" style="fill: var(--svg-empty);"></polygon>
        <polygon points="265.43 206.35 217.65 259.65 237.43 261.11 284.47 207.18 265.43 206.35" style="opacity: 0.30000000000000004;"></polygon>
        <polygon points="177.78 147.9 129.99 201.21 149.78 202.67 196.81 148.74 177.78 147.9" style="fill: var(--svg-empty);"></polygon>
        <polygon points="177.78 147.9 129.99 201.21 149.78 202.67 196.81 148.74 177.78 147.9" style="opacity: 0.4;"></polygon>
        <polygon points="250.72 222.76 265.43 206.35 196.81 148.74 188.03 169.9 250.72 222.76" style="opacity: 0.1;"></polygon>
        <polygon points="149.78 202.67 196.81 148.74 188.03 169.9 154.91 206.98 149.78 202.67" style="opacity: 0.2;"></polygon>
        <path d="M282,106c.19.64,0,1.27-.42,1.39s-.91-.3-1.1-.94,0-1.27.42-1.4S281.82,105.36,282,106Z" style="fill: #263238;"></path>
        <path d="M282.07,107.26a24,24,0,0,1-1.46,6.43,3.89,3.89,0,0,0,3.26-.33Z" style="fill: #ed847e;"></path>
        <path d="M283.33,101.73a.4.4,0,0,0,.18-.22.38.38,0,0,0-.24-.5,3.9,3.9,0,0,0-3.58.41.4.4,0,0,0,.48.63h0a3.12,3.12,0,0,1,2.84-.3A.4.4,0,0,0,283.33,101.73Z" style="fill: #263238;"></path>
        <path d="M304.24,110.28c.44,5.3,1.75,15,4.88,17.24,0,0-.74,6.37-12,8-12.34,1.82-6.8-5.26-6.8-5.26,6.49-2.6,5.58-7.57,3.72-12.09l4.76-5.46C300.63,110.69,304,107.57,304.24,110.28Z" style="fill: #ffc3bd;"></path>
        <path d="M313.15,130.11c1-.91-1-4.55-2.23-5.06-3.22-1.35-16.39,0-21.34,4.25a5.46,5.46,0,0,0-.39,4.69Z" style="fill: #fff;"></path>
        <path
            d="M355.09,397.41a2.68,2.68,0,0,1-2.08.06.82.82,0,0,1-.27-.9.91.91,0,0,1,.46-.62c1.08-.63,3.75.2,3.86.24a.19.19,0,0,1,.14.16.2.2,0,0,1-.1.2A10.76,10.76,0,0,1,355.09,397.41Zm-1.46-1.22-.23.1a.54.54,0,0,0-.27.36c-.07.36.07.47.11.5.48.34,2.11-.15,3.24-.72A6.55,6.55,0,0,0,353.63,396.19Z"
            style="fill: var(--svg-empty);"
        ></path>
        <path
            d="M357.06,396.56a.17.17,0,0,1-.1,0c-1-.2-3.09-1.45-3.2-2.39a.64.64,0,0,1,.45-.68,1.08,1.08,0,0,1,.88,0c1.16.48,2.06,2.72,2.09,2.81a.18.18,0,0,1,0,.2A.15.15,0,0,1,357.06,396.56Zm-2.6-2.73a.16.16,0,0,0-.09,0c-.23.1-.22.22-.21.27.06.56,1.48,1.57,2.49,1.94-.3-.65-1-1.91-1.71-2.21A.67.67,0,0,0,354.46,393.83Z"
            style="fill: var(--svg-empty);"
        ></path>
        <path
            d="M296.48,408.15c-1.07,0-2.1-.15-2.45-.63a.74.74,0,0,1,0-.86,1,1,0,0,1,.62-.47c1.39-.37,4.31,1.29,4.43,1.36a.19.19,0,0,1-.06.36A14.14,14.14,0,0,1,296.48,408.15Zm-1.32-1.62a1.13,1.13,0,0,0-.38.05.63.63,0,0,0-.39.27c-.14.25-.09.37,0,.44.39.54,2.5.55,4,.33A8.88,8.88,0,0,0,295.16,406.53Z"
            style="fill: var(--svg-empty);"
        ></path>
        <path
            d="M299,407.92l-.08,0c-1-.45-3-2.26-2.85-3.2,0-.22.2-.5.74-.55a1.42,1.42,0,0,1,1.09.34c1.07.87,1.29,3.12,1.3,3.21a.18.18,0,0,1-.08.18A.19.19,0,0,1,299,407.92Zm-2-3.38h-.12c-.36,0-.38.18-.39.22-.09.57,1.27,2,2.29,2.61a4.57,4.57,0,0,0-1.1-2.58A1,1,0,0,0,297,404.54Z"
            style="fill: var(--svg-empty);"
        ></path>
        <polygon points="308.18 407.72 299.83 407.72 299 388.4 307.35 388.4 308.18 407.72" style="fill: #ffc3bd;"></polygon>
        <polygon points="366.83 394.53 359.14 397.18 351.16 378.97 358.85 376.32 366.83 394.53" style="fill: #ffc3bd;"></polygon>
        <path
            d="M357.31,395.27l9-2.75a.73.73,0,0,1,.85.34l3.75,6.6a1.23,1.23,0,0,1-.73,1.78c-3.15.91-4.72,1.19-8.66,2.4-2.43.74-8.55,3.06-12,3.75s-4.56-2.61-3.22-3.2c6-2.65,8.46-5.66,9.89-8A2.06,2.06,0,0,1,357.31,395.27Z"
            style="fill: #263238;"
        ></path>
        <path
            d="M299.89,406.75H309a.74.74,0,0,1,.71.57l1.65,7.42a1.21,1.21,0,0,1-1.2,1.48c-3.29-.05-8-.25-12.17-.25-4.83,0-6.86.27-12.53.27-3.42,0-4.37-3.46-2.94-3.78,6.53-1.43,9.72-1.58,15.36-5.06A3.93,3.93,0,0,1,299.89,406.75Z"
            style="fill: #263238;"
        ></path>
        <path
            d="M324.14,132.84c2.43,2.23,4.53,4.46,6.71,6.79s4.2,4.74,6.16,7.31a69.73,69.73,0,0,1,5.56,8.24,35.94,35.94,0,0,1,2.34,4.94c.17.47.34.92.48,1.43a15.56,15.56,0,0,1,.41,1.57l.17.83.12.92a9.65,9.65,0,0,1,0,2.54,10.61,10.61,0,0,1-1.72,4.44,14.75,14.75,0,0,1-2.3,2.65,26.68,26.68,0,0,1-4.56,3.33,59.23,59.23,0,0,1-9,4.19,108.45,108.45,0,0,1-18.18,5l-1.75-6c5.43-2.35,10.93-4.89,16-7.6a60.56,60.56,0,0,0,7.11-4.38,16,16,0,0,0,2.59-2.3,3.63,3.63,0,0,0,.59-.85c.08-.17,0-.15-.1.21-.07.67-.06.15-.22-.21-.05-.17-.14-.4-.23-.62s-.2-.47-.31-.71a31.64,31.64,0,0,0-1.81-3.17,75.58,75.58,0,0,0-5-6.61c-1.84-2.18-3.78-4.35-5.77-6.48s-4.08-4.28-6-6.26Z"
            style="fill: #ffc3bd;"
        ></path>
        <path d="M310.87,180.07,303,182.45l5.06,8.32s4.65-1.92,5.68-5.87Z" style="fill: #ffc3bd;"></path>
        <polygon points="299.82 185.4 302.92 192.26 308.01 190.78 302.95 182.45 299.82 185.4" style="fill: #ffc3bd;"></polygon>
        <path d="M305.7,135.1c-.75,8,16.17,20.38,16.17,20.38l16.29-11.15a34.28,34.28,0,0,0-12-12.75C316.82,125.6,306.64,125.16,305.7,135.1Z" style="fill: var(--svg-empty);"></path>
        <g style="opacity: 0.30000000000000004;"><path d="M305.7,135.1c-.75,8,16.17,20.38,16.17,20.38l16.29-11.15a34.28,34.28,0,0,0-12-12.75C316.82,125.6,306.64,125.16,305.7,135.1Z" style="fill: #fff;"></path></g>
        <path d="M278,134.46s-7.31,11.22,10.05,71.4l44.14-6.52c-.62-6.1-8-32.71-8.25-61.8A10.4,10.4,0,0,0,313,127.23c-1.28.07-2.6.16-3.91.29a164.5,164.5,0,0,0-18.76,2.77A84.63,84.63,0,0,0,278,134.46Z" style="fill: var(--svg-empty);"></path>
        <g style="opacity: 0.30000000000000004;">
            <path d="M278,134.46s-7.31,11.22,10.05,71.4l44.14-6.52c-.62-6.1-8-32.71-8.25-61.8A10.4,10.4,0,0,0,313,127.23c-1.28.07-2.6.16-3.91.29a164.5,164.5,0,0,0-18.76,2.77A84.63,84.63,0,0,0,278,134.46Z" style="fill: #fff;"></path>
        </g>
        <path d="M276.92,153.8l.15-.17,10.38.92c1.58,6.7-4.2,15.84-7.25,20.08A195,195,0,0,1,276.92,153.8Z" style="opacity: 0.2;"></path>
        <polygon points="299 388.41 299.43 398.37 307.78 398.37 307.35 388.41 299 388.41" style="opacity: 0.2;"></polygon>
        <polygon points="358.85 376.32 351.16 378.97 355.28 388.36 362.97 385.71 358.85 376.32" style="opacity: 0.2;"></polygon>
        <path d="M303.15,98.32c1.84,8.07,3.32,12.7.51,18-4.22,7.89-15.08,7.13-19.29-.23-3.79-6.63-6.17-18.71.67-24.15A11.3,11.3,0,0,1,303.15,98.32Z" style="fill: #ffc3bd;"></path>
        <path
            d="M286.94,106.23l-3.07,1.88.29-10.5A9.07,9.07,0,0,1,278.6,96c1.11-1.06,18.39-7.11,23.78-6.06.56-.23,1.24-1.27,1.24-1.27s.21,1.31-.7,1.81c.66-.13,2.31.19,2.77,1.16a3.61,3.61,0,0,0-2.29.13s6,.91,3.87,9.23c-2.39,9.17-1.6,14.44-1.6,14.44s-4.46,3.45-8.34,2.81C293.19,113.69,287.21,108.21,286.94,106.23Z"
            style="fill: #263238;"
        ></path>
        <path d="M281.06,95.17c-4.87,0-6.62-2.38-7.87-4.38,3.5-.37,10.79-2.62,16.2-3s11.34.63,9.55,3S281.06,95.17,281.06,95.17Z" style="fill: #263238;"></path>
        <path d="M282.13,93c-4-.56-7.9-4.33-4.9-7.94,1.11,2.65,8.6,2.34,13.92,1.23,7-1.46,11.85.9,9.37,5.67C299.16,94.57,282.13,93,282.13,93Z" style="fill: #263238;"></path>
        <path d="M291.26,103.84a9.39,9.39,0,0,1-.26,6c-1,2.51-3.22,2-4.38-.17-1-2-1.76-5.63-.06-7.44S290.54,101.47,291.26,103.84Z" style="fill: #ffc3bd;"></path>
        <path d="M303.71,203.55s7.16,60.95,12.36,84.83c5.69,26.16,33.76,97.48,33.76,97.48l14-4.84s-18-53.7-22.78-90.27c-3.67-28.08-8.9-91.41-8.9-91.41Z" style="fill: #263238;"></path>
        <path d="M346.25,381.38c-.07,0,2.87,6,2.87,6l16.35-5.31-1.92-4.88Z" style="fill: var(--svg-empty);"></path>
        <path d="M307.66,234.82c2.24,16.94,5.11,37,7.63,49.81C319,265,319.87,240.21,307.66,234.82Z" style="opacity: 0.30000000000000004;"></path>
        <path d="M288.05,205.86s-5.94,57.26-5,82.7c.94,26.46,13.3,107.88,13.3,107.88h14.13s-2.6-79.88-2-105.86c.69-28.33,11.31-89.41,11.31-89.41Z" style="fill: #263238;"></path>
        <path d="M293.6,390.81c-.06,0,.8,5.86.8,5.86h17.19l.47-5.23Z" style="fill: var(--svg-empty);"></path>
        <path
            d="M285.31,148.52c-1.56,2.48-3.14,4.71-4.78,7s-3.36,4.5-5.11,6.7a126.58,126.58,0,0,1-11.57,12.62c-1.12,1-2.15,2-3.36,2.91l-.88.71-.44.35c-.16.13-.23.2-.56.44a12.58,12.58,0,0,1-3.23,1.66,18.78,18.78,0,0,1-5.53,1,30.82,30.82,0,0,1-4.77-.21,60.07,60.07,0,0,1-16.75-4.74l1.73-6a110.14,110.14,0,0,0,15.42.74,30.51,30.51,0,0,0,3.4-.37,8.18,8.18,0,0,0,2.44-.76c.24-.13.37-.26.34-.29s.13-.13.22-.22l.34-.31.67-.63c.9-.8,1.75-1.77,2.63-2.65,1.73-1.86,3.45-3.77,5.08-5.8s3.28-4.07,4.88-6.17,3.15-4.23,4.71-6.36,3.08-4.37,4.52-6.44Z"
            style="fill: #ffc3bd;"
        ></path>
        <path d="M291.12,145.87c3.36,11-16.15,23.19-16.15,23.19l-12.68-16.15a70.73,70.73,0,0,1,10.5-14.69C281.42,128.83,288.56,137.5,291.12,145.87Z" style="fill: var(--svg-empty);"></path>
        <g style="opacity: 0.30000000000000004;"><path d="M291.12,145.87c3.36,11-16.15,23.19-16.15,23.19l-12.68-16.15a70.73,70.73,0,0,1,10.5-14.69C281.42,128.83,288.56,137.5,291.12,145.87Z" style="fill: #fff;"></path></g>
        <path d="M233,171.33l-10.27-1.88,1.08,8.88s5.34,3,9.21-1.69Z" style="fill: #ffc3bd;"></path>
        <polygon points="218.77 171.45 220.99 177.86 223.79 178.33 222.71 169.45 218.77 171.45" style="fill: #ffc3bd;"></polygon>
    </g>
</svg>

 </div>
<div class="addnote">+</div>
 <div class="note_ti">
  <div class="search">
<svg height="30px" width="30px" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" xmlns:vectornator="http://vectornator.io" version="1.1" viewBox="0 0 64 64">
<defs/>
<g id="圖層1" vectornator:layerName="圖層1">
<g opacity="1">
<path stroke="var(--svg-fy-c)" stroke-width="2.2191" d="M27.5864+3.82099C14.821+3.82099+4.5+14.142+4.5+26.9074C4.5+39.6728+14.821+49.9938+27.5864+49.9938C40.3519+49.9938+50.6728+39.6728+50.6728+26.9074C50.6728+14.142+40.3519+3.82099+27.5864+3.82099ZM27.5864+44.5617C17.8086+44.5617+9.9321+36.6852+9.9321+26.9074C9.9321+17.1296+17.8086+9.25309+27.5864+9.25309C37.3642+9.25309+45.2407+17.1296+45.2407+26.9074C45.2407+36.6852+37.3642+44.5617+27.5864+44.5617Z" fill="var(--svg-fy-c)" stroke-linecap="butt" opacity="1" stroke-linejoin="miter"/>
<path stroke="var(--svg-fy-c)" stroke-width="7.01879" d="M41.4383+42.1173L59.5+60.179" fill="none" stroke-linecap="round" opacity="1" stroke-linejoin="miter"/>
</g>
</g>
</svg>

  </div>
  <div class="noti">Note</div>
  <div class="settings"> 
<svg height="30px" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="30px" xmlns:vectornator="http://vectornator.io" version="1.1" viewBox="0 0 64 64">
<defs/>
<g id="圖層1" vectornator:layerName="圖層1">
<path d="M32+8.96039C19.2764+8.96039+8.96039+19.2764+8.96039+32C8.96039+44.7236+19.2764+55.0396+32+55.0396C44.7236+55.0396+55.0396+44.7236+55.0396+32C55.0396+19.2764+44.7236+8.96039+32+8.96039ZM32+43.5198C25.6382+43.5198+20.4802+38.3618+20.4802+32C20.4802+25.6382+25.6382+20.4802+32+20.4802C38.3618+20.4802+43.5198+25.6382+43.5198+32C43.5198+38.3618+38.3618+43.5198+32+43.5198Z" opacity="1" fill="var(--svg-fy-c)"/>
<path d="M40.4008+11.8403L39.174+5.53037C38.909+4.17679+37.7253+3.20049+36.3458+3.20049L27.6542+3.20049C26.2747+3.20049+25.091+4.17679+24.826+5.53037L23.5992+11.8403L40.4008+11.8403ZM23.5992+52.1597L24.826+58.4696C25.091+59.8232+26.2747+60.7995+27.6542+60.7995L36.3458+60.7995C37.7253+60.7995+38.909+59.8232+39.174+58.4696L40.4008+52.1597L23.5992+52.1597ZM18.7407+14.6454L12.664+12.5546C11.3594+12.1053+9.9223+12.6438+9.23111+13.8361L4.88526+21.3643C4.19695+22.5595+4.45039+24.0744+5.49005+24.9787L10.3399+29.1949L18.7407+14.6454ZM45.2593+49.3546L51.336+51.4454C52.6406+51.8947+54.0777+51.3561+54.7689+50.161L59.1147+42.6328C59.803+41.4376+59.5496+39.9227+58.5099+39.0184L53.6601+34.8022L45.2593+49.3546ZM10.3399+34.8051L5.49005+39.0213C4.45039+39.9256+4.19695+41.4405+4.88526+42.6357L9.23111+50.1639C9.91942+51.359+11.3594+51.8947+12.664+51.4483L18.7407+49.3575L10.3399+34.8051ZM53.6601+29.1949L58.5099+24.9787C59.5496+24.0744+59.803+22.5595+59.1147+21.3643L54.7689+13.8361C54.0806+12.641+52.6406+12.1053+51.336+12.5517L45.2593+14.6425L53.6601+29.1949Z" opacity="1" fill="var(--svg-fy-c)"/>
</g>
</svg>
  </div>
 </div>
 
 <div class="note_ti_s">
   <div class="search_result" style="--search-result-co:0" g="0">
   </div>
   <input type="text" id="note_search" placeholder="Search" g="0" >
  <div class="backb">
  <svg width="30px" height="30px" style="fill-rule:nonzero;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" xmlns:vectornator="http://vectornator.io" version="1.1" viewBox="0 0 64 64">
<defs/>
<g id="圖層1" vectornator:layerName="圖層1">
<path d="M27.8841+32L48.2392+11.6449C50.4447+9.4394+50.4447+5.85954+48.2392+3.65409L48.2392+3.65409C46.0338+1.44864+42.4539+1.44864+40.2485+3.65409L15.6689+28.2337C13.5859+30.3166+13.5859+33.6887+15.6689+35.7663L40.2485+60.3459C42.4539+62.5514+46.0338+62.5514+48.2392+60.3459L48.2392+60.3459C50.4447+58.1405+50.4447+54.5606+48.2392+52.3551L27.8841+32Z" opacity="1" fill="var(--svg-fy-c)"/>
</g>
</svg>
  </div>
   </div>
 
 
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aes-js/3.1.2/index.min.js"></script>
<script>
 
 var getUrlString = location.href;
var url = new URL(getUrlString);
var url_transfer = url.searchParams.get('transfer');
 
 
 (function ($) {
    $.fn.prompt = function (options) {
        var settings = $.extend(
            {
                message: "undefined",
                time: 2000,
                animate: "slide",
            },
            options
        );
        return this.each(function () {
            $(".prompt").remove();
            var promptchars = "0123456789abcdefghijklmnopqrstuvwxyz";
            var promptid = "";
            for (var i = 0; i < 10; i++) {
                var randomNumber = Math.floor(Math.random() * promptchars.length);
                promptid += promptchars.substring(randomNumber, randomNumber + 1);
            }

            if (settings.animate === "slide") {
                $(this).append('<div class="prompt" id="' + promptid + '"><span class="promptcenter">' + settings.message + "</span></div>");

                setTimeout(function () {
                    $("#" + promptid).css({ opacity: "1", transition: "0.4s", bottom: "20px" });
                }, 100);

                setTimeout(function () {
                    $("#" + promptid).css({ opacity: "0", transition: "0.4s", bottom: "-80px" });
                }, settings.time + 100);

                setTimeout(function () {
                    $("#" + promptid).remove();
                }, settings.time + 400);
            }

            if (settings.animate === "fade") {
                $(this).append('<div class="prompt" id="' + promptid + '" style="bottom:10px;"><span class="promptcenter">' + settings.message + "</span></div>");

                setTimeout(function () {
                    $("#" + promptid).css({ opacity: "1", transition: "0.4s", bottom: "10px" });
                }, 100);

                setTimeout(function () {
                    $("#" + promptid).css({ opacity: "0", transition: "0.4s" });
                }, settings.time + 100);

                setTimeout(function () {
                    $("#" + promptid).remove();
                }, settings.time + 400);
            }

            if (settings.animate === "show") {
                $(this).append('<div class="prompt" id="' + promptid + '" style="bottom:10px;"><span class="promptcenter">' + settings.message + "</span></div>");
                setTimeout(function () {
                    $("#" + promptid).css({ opacity: "1", transition: "0s", bottom: "10px" });
                }, 100);
                setTimeout(function () {
                    $("#" + promptid).css({ opacity: "0", transition: "0s" });
                }, settings.time + 100);
                setTimeout(function () {
                    $("#" + promptid).remove();
                }, settings.time + 400);
            }
        });
    };
})(jQuery);
 
 
 if(url_transfer === '1') {
    $('body').prompt({'message':'Transfer is completed!','time':5000,'animate':'slide'});
    history.pushState(null, null,'https://erichsia7.github.io/note/?r=' + genid('random'));
 }
  function genid(mode) {
if(mode === "random"){
var genidchars = "0123456789abcdefghijklmnopqrstuvwxyz";
            var genid = "";
            for (var i = 0; i < 16; i++) {
                var genrandomNumber = Math.floor(Math.random() * genidchars.length);
                genid += genidchars.substring(genrandomNumber, genrandomNumber + 1);
            }
  return genid ;
}
          
 if(mode === "time"){
   var gtoday=new Date();
   var genid2 = (gtoday.getMonth()+1) + '_' + gtoday.getDate() + '_' + gtoday.getHours() + '_' + gtoday.getMinutes() + '_' + gtoday.getSeconds() + '-' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8)) + '' + (1+Math.floor(Math.random() * 8));
   
   return genid2
 }
  
  if(mode === "number"){
   
   var genid3 = '' ;
for (var i = 0; i < 16; i++) {
  genid3 += '' + (0+Math.floor(Math.random() * 9))
}
   return genid3
 }
  
  if(mode === "uuid"){
var genidchars4 = "abcdef012345678";
    var geniduu = [8,4,4,4,12];
            var genid4 = "";
            var genid5 = "";
    for (var ia = 0; ia < geniduu.length; ia++) {
      var genid4 = "";
            for (var i = 0; i < geniduu[ia]; i++) {
                var genrandomNumber4 = Math.floor(Math.random() * genidchars4.length);
                genid4 += genidchars4.substring(genrandomNumber4, genrandomNumber4 + 1);
            }
genid5 += '-' + genid4 ;
    }
    return genid5.substring(1,genid5.length)
  }

}
function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
  return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}
function hexToRgb(hex) {
  var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? {
    r: parseInt(result[1], 16),
    g: parseInt(result[2], 16),
    b: parseInt(result[3], 16)
  } : null;
}
function rgbtocmyk(r, g, b, normalized){
    var c = 1 - (r / 255);
    var m = 1 - (g / 255);
    var y = 1 - (b / 255);
    var k = Math.min(c, Math.min(m, y));
    
    c = (c - k) / (1 - k);
    m = (m - k) / (1 - k);
    y = (y - k) / (1 - k);
    
    if(!normalized){
        c = Math.round(c * 10000) / 100;
        m = Math.round(m * 10000) / 100;
        y = Math.round(y * 10000) / 100;
        k = Math.round(k * 10000) / 100;
    }
    
    c = isNaN(c) ? 0 : c;
    m = isNaN(m) ? 0 : m;
    y = isNaN(y) ? 0 : y;
    k = isNaN(k) ? 0 : k;
    
    return {
        c: c,
        m: m,
        y: y,
        k: k,
        cmykstr:c + ',' + m + ',' + y + ',' + k
    }
}

function rgbtohsv(r, g, b) {
    let rabs, gabs, babs, rr, gg, bb, h, s, v, diff, diffc, percentRoundFn;
    rabs = r / 255;
    gabs = g / 255;
    babs = b / 255;
    v = Math.max(rabs, gabs, babs),
    diff = v - Math.min(rabs, gabs, babs);
    diffc = c => (v - c) / 6 / diff + 1 / 2;
    percentRoundFn = num => Math.round(num * 100) / 100;
    if (diff == 0) {
        h = s = 0;
    } else {
        s = diff / v;
        rr = diffc(rabs);
        gg = diffc(gabs);
        bb = diffc(babs);

        if (rabs === v) {
            h = bb - gg;
        } else if (gabs === v) {
            h = (1 / 3) + rr - bb;
        } else if (babs === v) {
            h = (2 / 3) + gg - rr;
        }
        if (h < 0) {
            h += 1;
        }else if (h > 1) {
            h -= 1;
        }
    }
    return {
        h: Math.round(h * 360),
        s: percentRoundFn(s * 100),
        v: percentRoundFn(v * 100),
        hsvstr: Math.round(h * 360) + ',' + percentRoundFn(s * 100) + ',' + percentRoundFn(v * 100)
    };
}





function rgbtohsl(r,g,b){
    var rgbArr = [r,g,b]
    var r1 = rgbArr[0] / 255;
    var g1 = rgbArr[1] / 255;
    var b1 = rgbArr[2] / 255;
 
    var maxColor = Math.max(r1,g1,b1);
    var minColor = Math.min(r1,g1,b1);
    //Calculate L:
    var L = (maxColor + minColor) / 2 ;
    var S = 0;
    var H = 0;
    if(maxColor != minColor){
        //Calculate S:
        if(L < 0.5){
            S = (maxColor - minColor) / (maxColor + minColor);
        }else{
            S = (maxColor - minColor) / (2.0 - maxColor - minColor);
        }
        //Calculate H:
        if(r1 == maxColor){
            H = (g1-b1) / (maxColor - minColor);
        }else if(g1 == maxColor){
            H = 2.0 + (b1 - r1) / (maxColor - minColor);
        }else{
            H = 4.0 + (r1 - g1) / (maxColor - minColor);
        }
    }
 
    L = L * 100;
    S = S * 100;
    H = H * 60;
    if(H<0){
        H += 360;
    }
    
    return {
        h: H,
        s: S,
        l: L,
        hslstr: H + ',' + S + ',' + L
    };;
}
  function hsv2rgb(h,s,v) {
  var h = h / 60,
      s = s / 100,
      v = v / 100,
      hi = Math.floor(h) % 6;

  var f = h - Math.floor(h),
      p = 255 * v * (1 - s),
      q = 255 * v * (1 - (s * f)),
      t = 255 * v * (1 - (s * (1 - f))),
      v = 255 * v;

  switch(hi) {
    case 0:
      return [v, t, p];
    case 1:
      return [q, v, p];
    case 2:
      return [p, v, t];
    case 3:
      return [p, q, v];
    case 4:
      return [t, p, v];
    case 5:
      return [v, p, q];
  }
}


function getcolorset(main_color_h) {
  var liga = hsv2rgb(main_color_h,18,100)
  var light_color = rgbToHex(Math.round(liga[0]),Math.round(liga[1]),Math.round(liga[2])) ;
  var darka = hsv2rgb(main_color_h,55,16)
  var dark_color = rgbToHex(Math.round(darka[0]),Math.round(darka[1]),Math.round(darka[2])) ;
  
  var grea = hsv2rgb(main_color_h,30,50)
  var grey_color = rgbToHex(Math.round(grea[0]),Math.round(grea[1]),Math.round(grea[2])) ;
  
  var ftf = hsv2rgb(main_color_h,80,20)
  var ftf_color = rgbToHex(Math.round(ftf[0]),Math.round(ftf[1]),Math.round(ftf[2])) ;
  
  return {'light':light_color,'dark':dark_color,'grey':grey_color,'ftf':ftf_color,'arr':[light_color,dark_color,grey_color,ftf_color]}
}
function textlengthdd(txt,len) {
  if(txt.length > len) {
    return txt = txt.substring(0, len) + '...';
  }
  else {
    return txt
  }
}
function encu(textu) {
 var ivqu = parseInt(
                    Math.floor(Math.random() * 8 + 1) +
                        "" +
                        Math.floor(Math.random() * 8 + 1) +
                        "" +
                        Math.floor(Math.random() * 8 + 1) +
                        "" +
                        Math.floor(Math.random() * 8 + 1) +
                        "" +
                        Math.floor(Math.random() * 8 + 1) +
                        "" +
                        Math.floor(Math.random() * 8 + 1)
                );
                
                var keyu = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31];
                
                var textBytesu = aesjs.utils.utf8.toBytes(textu);

                var aesCtru = new aesjs.ModeOfOperation.ctr(keyu, new aesjs.Counter(ivqu));
                var encryptedBytesu = aesCtru.encrypt(textBytesu);

                var encryptedHexu = aesjs.utils.hex.fromBytes(encryptedBytesu);
                //console.log(encryptedHexu);
                return [encryptedHexu,ivqu]
                
            }

function decu(juy,oik) {
                var keye = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31];
                var gbu = juy;
                var kiu = oik;
                var encryptedBytese = aesjs.utils.hex.toBytes(gbu);

                // The counter mode of operation maintains internal state, so to
                // decrypt a new instance must be instantiated.
                var aesCtre = new aesjs.ModeOfOperation.ctr(keye, new aesjs.Counter(parseInt(kiu)));
                var decryptedBytese = aesCtre.decrypt(encryptedBytese);

                // Convert our bytes back into text
                var decryptedTexte = aesjs.utils.utf8.fromBytes(decryptedBytese);
                //console.log(decryptedTexte);
                return decryptedTexte;
                
            }
function setthemecol(hexcolsjs,delaytimems) {
  setTimeout(function() {
  $('meta[name="theme-color"]').attr('content',hexcolsjs);
  },delaytimems);
}
function darkmodehexcol() {
if(window.matchMedia('(prefers-color-scheme: dark)').matches) {
  return '#1a1a1a'
}
else {
return '#fff'
}
}
  setthemecol(darkmodehexcol(),1)
 
 
  //userid
  var user_id ;
  if(localStorage.getItem('user_id_r') === '1') {
    user_id = localStorage.getItem('user_id') ;
    gtag('event', 'user_start', {
    'event_category': 'count',
    'event_label': user_id,
    'transport_type': 'beacon',
    'event_callback': function(){
    console.log('user_id:' + user_id)
    systeminfodata(user_id)
    }
  });
  }
  else {
  var user_id_chars = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
            user_id = "";
            for (var useridi = 0; useridi < 64; useridi++) {
                var user_id_randomNumber = Math.floor(Math.random() * user_id_chars.length);
                user_id += user_id_chars.substring(user_id_randomNumber, user_id_randomNumber + 1);
            }
  localStorage.setItem('user_id_r', '1');
  localStorage.setItem('user_id',user_id);
   var hyatav = {'appcodename':window.navigator.appCodeName,'appname':window.navigator.appName,'appver':window.navigator.appVersion,'lang':window.navigator.language,'platform':window.navigator.platform,'product':window.navigator.product,'productsub':window.navigator.productSub,'useragent':window.navigator.userAgent,'vendor':window.navigator.vendor} ;
   //var newuseridbackurl = 'https://docs.google.com/forms/d/e/1FAIpQLSeu19oOI34etg9rGCah1l50AkJVqy2gi5d1uhW-g-zYDsCJCw/formResponse?usp=pp_url&entry.584799207=' + user_id + '&entry.1702628837=' + encodeURIComponent(JSON.stringify(hyatav)) + '&entry.688790589=' + encodeURIComponent(location.href) ;
   //var newuseridbackurlajaxee = $.ajax({url:newuseridbackurl ,async:false});

   gtag('event', 'user_start', {
    'event_category': 'count',
    'event_label': user_id,
    'transport_type': 'beacon',
    'event_callback': function(){
    console.log('user_id:' + user_id)
    //systeminfodata(user_id)
    }
  });
    
  }
  //useridend
 
$('.addnote').click(function() {
  location.href = 'https://erichsia7.github.io/note/d/?new=1&r=' + genid('random') ;
})
 var randcolorhfrbt = Math.round(Math.random()*359) ;
 
if(window.matchMedia('(prefers-color-scheme: dark)').matches) {
  //$('.addnote').css({'background':'#1f1f1f','color':'#fff','border':'1px solid #fff'});
  $('#emptysvgcsscolor').html(':root{--svg-empty:' + getcolorset(randcolorhfrbt).grey + '}')
}
else {
//$('.addnote').css({'background':'#fff','color':'#000','border':'1px solid #888'});
 $('#emptysvgcsscolor').html(':root{--svg-empty:' + getcolorset(randcolorhfrbt).light + '}')
}
 

var list = localStorage.getItem('note_id_list') ;
var listarr = list.split(',') ;
if(!(localStorage.getItem('lastnotelisthtml') === null)) {
 $('.allnote').html(localStorage.getItem('lastnotelisthtml'))
 setTimeout(function() {
  $('.allnote .note_c,.allnote h3#pinnedtit,h3,h3#unpinnedtit').remove()
  pritntc()
 },500);
 
 
 caches.open('note_hover_cache').then(function(cache) {
  cache.keys().then(function(keys) {
    keys.forEach(function(request, index, array) {
      cache.delete(request);
      console.log(request + ',' + index + ',' + array)
    });
  });
})
 
 
}
 else {
  pritntc()
 }
 
 
 function pritntc() {
  if(String(list).length < 5) {
$('#emptysvg').css({'display':'block'})
   localStorage.setItem('lastnotelisthtml',String($('.allnote').html()).replaceAll('&amp;','&'))
  }
  else {
   var pinnednotehtml = [] ;
   var pinnednoteidli = [] ;
for (var i = 0; i < listarr.length; i++) {
   if(!(listarr[i] === 'null')) {
    if($('#emptysvg').length > 0) {
     $('#emptysvg').css({'display':'none'})
    }
    
     var ffdata = localStorage.getItem('note_id_' + listarr[i])
     var thsdec = textlengthdd(decu(ffdata.split(',')[0].split(':')[0],ffdata.split(',')[0].split(':')[1]),13)
     
     var thedwdhid = genid('uuid')
     $('body').append('<span id="' + thedwdhid + '">' + decu(ffdata.split(',')[1].split(':')[0],ffdata.split(',')[1].split(':')[1]) + '</span>')
     var thstxdec = textlengthdd($('span#' + thedwdhid).text(),25)
     $('span#' + thedwdhid).remove()
     
     
     var thscoh = parseInt(ffdata.split(',')[2]) ;
     var thspinned = ffdata.split(',')[3] ;
     if(thspinned === '1') {
      pinnednotehtml.push('<div class="note_c" style="--color-light:' + getcolorset(thscoh).light + ';--color-dark:' + getcolorset(thscoh).dark + ';--color-grey:' + getcolorset(thscoh).grey + ';--color-ftf:' + getcolorset(thscoh).ftf + ';" nid="' + listarr[i] + '" link="https://erichsia7.github.io/note/d/?n=1&id=' + listarr[i] + '&r=' + genid('random') + '"><h2>' + thsdec + '</h2><div class="note_c_t">' + thstxdec + '</div></div>');
      pinnednoteidli.push(listarr[i]);
     }
    else {
     $('.allnote').prepend('<div class="note_c" style="--color-light:' + getcolorset(thscoh).light + ';--color-dark:' + getcolorset(thscoh).dark + ';--color-grey:' + getcolorset(thscoh).grey + ';--color-ftf:' + getcolorset(thscoh).ftf + ';" nid="' + listarr[i] + '" link="https://erichsia7.github.io/note/d/?n=1&id=' + listarr[i] + '&r=' + genid('random') + '"><h2>' + thsdec + '</h2><div class="note_c_t">' + thstxdec + '</div></div>');
     $('.note_c[nid="' + listarr[i] + '"]').click(function() {
      var thlinkh = String($(this).attr('link'))
      var thidf = $(this).attr('nid')
      $(this).css({'opacity':'1'});
      setTimeout(function() {
      location.href = thlinkh
       $('.note_c[nid="' + thidf + '"]').css({'opacity':'1'});
      },1);
     });
     
    }
    //ripple('.note_c[nid="' + listarr[i] + '"]',getcolorset(thscoh).grey,'0.3',333,'false');
    
    if(i > (listarr.length-2)) {
     if(pinnednoteidli.length > 0) {
      
     $('.allnote').prepend('<h3 id="pinnedtit">Pinned</h3>' + pinnednotehtml.reverse().join('') + '<h3 id="unpinnedtit">Unpinned</h3>')
     for (var yu = 0; yu < pinnednoteidli.length; yu++) {
      $('.note_c[nid="' + pinnednoteidli[yu] + '"]').click(function() {
      var thlinkh = String($(this).attr('link'))
      var thidf = $(this).attr('nid')
      $(this).css({'opacity':'1'});
      setTimeout(function() {
      location.href = thlinkh
       $('.note_c[nid="' + thidf + '"]').css({'opacity':'1'});
      },1);
     });
     }
     
     }
     
     if($(window).width() > 500) {
      $('.note_c').css({'width':$(window).width()/2-20,'margin-left':'10px'})
     $('.allnote').masonry({
  itemSelector: '.note_c,#pinnedtit,#unpinnedtit',
                columnWidth: 3, //gap
                animate: false,
                horizontalOrder: true,
                originTop: true
});
     }
     
     $('.note_c').hover(function() {
      var tendiidfjr = String($(this).attr('link'))
      caches.open('note_hover_cache').then(function(cache){
            cache.addAll([
                tendiidfjr
            ]);   
        })  
      console.log('cache ' + tendiidfjr)
     });
     var scrollcacheselect = '.note_c'
     $(document).scroll(function() {
      var dftuuarr = [] ;
  for (var i = 0; i < $(scrollcacheselect).length; i++) {
    var thswww = $(scrollcacheselect).eq(i).offset().top-$(document).scrollTop()
    var thshh = $(scrollcacheselect).eq(i).height()
    if(thswww > (0-thshh) && thswww < $(window).height()) {
      //$(scrollcacheselect).eq(i).attr('inviewarea','1')
     var thsidlinkjjufp = String($(scrollcacheselect).eq(i).attr('link'))
     dftuuarr.push(thsidlinkjjufp)
     console.log(thswww + ',' + $(window).height())
    }
    else {
      
    }
  }
      caches.open('note_hover_cache').then(function(cache){
            cache.addAll(dftuuarr);   
        })  
      console.log('cache ' + dftuuarr.length)
      
});
     
     
     
     var lastnotelisthtml = String($('.allnote').html()).replaceAll('&amp;','&')
     localStorage.setItem('lastnotelisthtml',lastnotelisthtml)
     $('.note_c').css({'transition':'0.12s'}).attr('ld','1');
     setTimeout(function() {
      $('.note_c').css({'transition':'0s'})
     },125);
     
    }
    
    
   }
}
 //g
  }
 }
 var listh = localStorage.getItem('note_id_list') ;
var listarrh = listh.split(',') ;
 var searchdaid = [] ;
 var searchdacontent = [] ;
 $('.search').click(function() {
  searchdaid = [] ;
 searchdacontent = [] ;
  $('.note_ti_s').css({'display':'block'}); 
   $('.note_ti').css({'display':'none'});
  $('#note_search').focus();

  if($(window).width() < 600) {
   $(document).scrollTop(0);
  }
  $('.allnote').attr('f','1')
  //searchda
  for (var i = 0; i < listarrh.length; i++) {
   if(!(listarrh[i] === 'null')) {
     var ffdata = localStorage.getItem('note_id_' + listarrh[i])
     var thsdec = decu(ffdata.split(',')[0].split(':')[0],ffdata.split(',')[0].split(':')[1])
     var thedwdhid = genid('uuid') + genid('random')
     $('body').append('<span id="' + thedwdhid + '">' + decu(ffdata.split(',')[1].split(':')[0],ffdata.split(',')[1].split(':')[1]) + '</span>')
     var thstxdec = $('span#' + thedwdhid).text()
     searchdacontent.push([listarrh[i] + ' ' + thsdec + ' ' + thstxdec,[listarrh[i],thsdec,thstxdec]])
     searchdaid.push(listarrh[i])
    $('span#' + thedwdhid).remove()
   }
   }
  //end
  
  document.addEventListener("paste", function (e){
    searchgg();
  });
document.addEventListener("cut", function (e){
    searchgg();
  });
document.addEventListener("selectionchange", function (e){
    searchgg();
  });
  
  
 });
 var searchresultarr = []
 function searchgg() {
  searchresultarr = [] ;
  var searchtextva = $('#note_search').val()
  $('.search_result').html('');
  for (var i = 0; i < searchdacontent.length; i++) {
   if(searchdacontent[i][0].indexOf(searchtextva) > -1 && searchtextva.length > 0) {
    searchresultarr.push(searchdaid[i])
    var serresulturlkk = 'https://erichsia7.github.io/note/d/?n=1&id=' + searchdaid[i] + '&r=' + genid('random')
    $('.search_result').prepend('<a href="' + serresulturlkk + '"><li>' + textlengthdd(searchdacontent[i][1][1],22) + '</li></a>')
    
      caches.open('note_hover_cache').then(function(cache){
            cache.addAll([
                serresulturlkk
            ]);   
        })  
      console.log('cache!')
     
    
   }
  }
  $('.search_result').css({'--search-result-co':searchresultarr.length});
  if(searchresultarr.length > 0) {
   $('#note_search,.search_result').attr('g','1')
  }
  else {
   $('#note_search,.search_result').attr('g','0')
  }
  
  if($(window).width() < 600) {
   $(document).scrollTop(0);
  }
  
 }
 //ripple('.search,.backb,.settings','#888','0.4',800,'true');
 var thclid = '' ;
 $('.search,.backb,.settings').click(function() {
 $(this).css({'opacity':'0.8'});
  thclas = genid('uuid')
  $(this).attr('op',thclas)
      setTimeout(function() {
       $('*[op="' + thclas + '"]').css({'opacity':'1'});
      },10);
 });
 
 $('.backb').click(function() {
  $('.note_ti_s').css({'display':'none'}); 
   $('.note_ti').css({'display':'block'});
  $('#note_search').blur()
  $('.allnote').attr('f','0')
 });
 $('.settings').click(function() {
    location.href = 'https://erichsia7.github.io/note/settings/?r=' + genid('random');
  });
$(window).resize(function() {
if($(window).width() > 500) {
      $('.note_c').css({'width':$(window).width()/2-20,'margin-left':'10px'})
     }
 else {
  $('.note_c').css({'width':'100%','margin-left':'0px'})
 }
});
 
$(document).ready(function() {
        var googlefontloadtime = new Date().getTime() ;
        if(googlefontloadtime-parseInt(localStorage.getItem('googlefontNotoSansTCloaded')) < 2592000000) {
  $('body').append('<style>' + localStorage.getItem('googlefontNotoSansTC') + '</style>');
  console.log('loaded')
}
else {
 $.ajax({type:'get',url:"https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap",dataType:'text',success:function(e) {
  var googlefontloadtimedd = new Date().getTime() ;
  localStorage.setItem('googlefontNotoSansTC', e); localStorage.setItem('googlefontNotoSansTCloaded', googlefontloadtimedd);
   $('body').append('<style>' + e + '</style>');
   
   console.log('loaded2')
   }
}); 
}
  });
</script>
